!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e,t,n){const r=[],o=e<t,a=n?o?t+1:t-1:t;for(let t=e;o?t<a:t>a;o?t++:t--)r.push(t);return r}n.r(t);const o={0:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],1:[[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,1,1,1,0,0,0],[0,1,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,1]],2:[[0,1,1,1,1,0,0,0],[1,0,0,0,0,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,1,1,1,1,1,1,1]],3:[[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,1,1,1,1,1,0,0]],4:[[0,0,0,0,0,1,0,0],[0,0,0,0,1,1,0,0],[0,0,0,1,0,1,0,0],[0,0,1,0,0,1,0,0],[0,1,0,0,0,1,0,0],[1,0,0,0,0,1,0,0],[1,0,0,0,0,1,0,0],[1,1,1,1,1,1,1,1],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0]],5:[[0,1,1,1,1,1,1,1],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,1],[1,0,0,0,0,0,1,0],[0,1,1,1,1,1,0,0]],6:[[0,0,0,1,1,1,1,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[1,0,1,1,1,1,0,0],[1,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],7:[[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,0],[0,1,0,0,0,0,0,0]],8:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,0],[0,0,1,1,1,1,0,0]],9:[[0,0,1,1,1,1,0,0],[0,1,0,0,0,0,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,1,0,0,0,0,1,1],[0,0,1,1,1,1,0,1],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,1,1,1,1,0,0,0]],"+":[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,1],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]};t.default=class{constructor(){const e=this.getFavicon();e&&(this.faviconImage=e.getAttribute("href"),[this.head]=document.getElementsByTagName("head"))}render(e){null!=e?this.drawCountOnCanvas(e,e=>{this.addIconToDom(e.toDataURL("image/png"))}):this.getFaviconCanvas(e=>{this.addIconToDom(e.toDataURL("image/png"))})}getFavicon(){var e;return(e=document.getElementsByTagName("link"),[].slice.call(e)).filter(e=>e.getAttribute("rel").includes("icon")).sort((e,t)=>{const n=e.getAttribute("sizes")?parseInt(e.getAttribute("sizes").split("x")[0],10):0,r=t.getAttribute("sizes")?parseInt(t.getAttribute("sizes").split("x")[0],10):0;return 32===n?-1:32===r?1:r-n})[0]}getFaviconCanvas(e){if(this.faviconCanvas)e(this.faviconCanvas);else{this.faviconCanvas=document.createElement("canvas"),this.faviconCanvas.width=32,this.faviconCanvas.height=32;const t=this.faviconCanvas.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.addEventListener("load",()=>{t.drawImage(n,0,0,32,32),e(this.faviconCanvas)},!0),n.src=this.faviconImage}}drawCountOnCanvas(e,t){const n=e>99?"99+":e;if(this.drawnCanvases||(this.drawnCanvases={}),this.drawnCanvases[n])return void t(this.drawnCanvases[n]);const r=String(n).length;this.getFaviconCanvas(e=>{const a=document.createElement("canvas");a.height=e.width,a.width=e.width;const i=a.getContext("2d");i.drawImage(e,0,0),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(i.strokeStyle="rgba(28, 27, 33, 0.6)",i.fillStyle="#FFF"):(i.strokeStyle="rgba(255, 255, 255, 0.6)",i.fillStyle="#000");const s=.0625*e.width,c=e.height-o[0].length-s,l=o[0][0].length*r+2*(r-1);let u=e.width-l-1;u<0&&(u=0),this.drawCharacters({characters:n,fn:(e,t)=>{i.strokeRect(e+u-2,t+c-2,6,6)}}),this.drawCharacters({characters:n,fn:(e,t)=>{i.fillRect(e+u,t+c,2,2)}}),this.drawnCanvases[n]=a,t(a)})}drawCharacters({characters:e,fn:t}){let n,a,i,s,c=0;r(0,String(e).length).forEach((l,u)=>{n=String(e)[u],o[n]&&(i=(a=o[n]).length,s=a[0].length,c=s*u+2*u,r(0,i).forEach(e=>{r(0,s).forEach(n=>{a[e][n]&&t(n+c,e)})}))})}addIconToDom(e){const t=this.head.getElementsByTagName("link");[].slice.call(t).forEach(e=>{"shortcut icon"!==e.rel&&"icon"!==e.rel||this.head.removeChild(e)});const n=document.createElement("link");n.type="image/png",n.rel="shortcut icon",n.href=e,this.head.appendChild(n);const r=document.createElement("iframe");r.width=0,r.height=0,document.body.appendChild(r),r.src="icon",document.body.removeChild(r)}}}])},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const a=1e3,i=".v-MailboxSource",s=".app-source-name",c=".v-MailboxSource-badge",l=["Drafts","Trash"];class u{constructor(){setTimeout(()=>{this.timer=setInterval(this.poll.bind(this),500),this.faviconCount=new o.a,this.poll()},a)}poll(){const e=this.getUnreadCount();this.faviconCount.render(e)}getUnreadCount(){const e=document.querySelectorAll(i);let t=e.length?0:null;return e.forEach(e=>{const n=e.querySelector(s).innerHTML,r=e.querySelector(c)&&parseInt(e.querySelector(c).innerHTML,10)||0;l.indexOf(n)<0&&(t+=r)}),t}}new u}]);